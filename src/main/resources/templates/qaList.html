<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/headerfooter.css" />
    <link rel="stylesheet" href="../static/css/qaList.css" />
    <title>qaList</title>
  </head>

  <body>
    <div th:replace="~{layouts/header :: header}"></div>

    <div class="qa-container" id="question-answer-container">
      <div class="qa-item" id="question-1">
        <div class="qa-header" id="question-header-1">Q&A</div>
        <div class="qa-list" id="question-list-1">
          <select class="select1" name="option">
            <option value="01" selected="selected">제목</option>
            <option value="02">내용</option>
          </select>
          <input
            class="form-control"
            type="text"
            id="searchWord"
            name="searchWord"
            placeholder="검색어를 입력하세요"
            aria-label="Enter search term..."
            aria-describedby="button-search"
          />
          <button class="btn btn-primary" id="button-search" type="submit" name="#">검색</button>

          <div class="dropdown">
            <button class="dropbtn">정렬 옵션</button>
            <div class="dropdown-content">
              <a href="#" onclick="sortByNewest()">최신순</a>
              <a href="#" onclick="sortByOldest()">오래된순</a>
              <a href="#" onclick="sortByLikes()">좋아요순</a>
            </div>
          </div>

          <button class="qa-all" id="all-questions" name="#">전체내용보기</button>
          <div class="qa-register" id="register">Register</div>
        </div>

        <!-- 여기서부터 서버에서 가져온 데이터를 사용하여 동적으로 생성 -->
        <div
          th:each="question : ${questions}"
          class="qa-item-content"
          th:id="'question-content-' + ${question.id}"
        >
          <p class="qa-question" th:id="'question-' + ${question.id} + '-1'">
            Q. ${question.title}
          </p>
          <div class="qa-answer-group" th:id="'answer-group-' + ${question.id} + '-1'">
            <p class="qa-answer" th:id="'answer-' + ${question.id} + '-1'">A. ${question.answer}</p>
            <p class="qa-date" th:id="'question-date-' + ${question.id} + '-1'">
              질문 일자 : ${question.date}
            </p>
          </div>
        </div>
        <!-- 동적 생성 끝 -->

        <div class="qa-paging" id="paging">페이징</div>
      </div>
    </div>

    <div th:replace="~{layouts/footer :: footer}"></div>
  </body>
  <script>
    // 자바스크립트 함수나 이벤트 핸들러는 잠시 오류때문에, 따로 빼놓았어요
  </script>
</html>
